{% extends 'base.html' %}

{%block content %}
{% if user.is_authenticated %}

<h2>Plik został zaimportowany</h2>
<p>Zaimportowano {{shape_y}} kolumn oraz {{shape_x}} wierszy</p>
<p><a href="{% url 'index' %}">Kliknij tu</a>, aby powrócić do poprzedniej strony. </p>

<fieldset>
<h3>Poniżej znajduje się podsumowanie zmiennych objaśniających</h3>

<p class="thick">
    Jako zmienną decyzyjną wybrano: {{target_variable}}
</p>
{% for variable in dataset_summary %}
<fieldset>
    <h4>{{variable.0}}</h4>
    <div class="table-responsive">
        <table class="table">
            <tr>
                <th>count</th>
                <th>mean</th>
                <th>standard error</th>
                <th>minimum</th>
                <th>kwantyl 0.25</th>
                <th>mediana</th>
                <th>kwantyl 0.75</th>
                <th>maximum</th>
            </tr>
            <tr>
                <td>{{variable.1}}</td>
                <td>{{variable.2}}</td>
                <td>{{variable.3}}</td>
                <td>{{variable.4}}</td>
                <td>{{variable.5}}</td>
                <td>{{variable.6}}</td>
                <td>{{variable.7}}</td>
                <td>{{variable.8}}</td>
            </tr>
            <tr>

            </tr>
        </table>
        <form method="post" enctype="multipart/form-data" class="form-horizontal">
            {% csrf_token %}
            <input type="hidden" id="graph" name="graph" value="{{variable.0}}">
            <button type="submit" class="primary">Wykres</button>
        </form>
    </div>
</fieldset>
{% endfor %}
</fieldset>


<form method="post" enctype="multipart/form-data" class="form-horizontal">
    {% csrf_token %}
    <fieldset>
        <!-- Form Name -->
        <legend>Wprowadź parametry</legend>
        <div class="row">
            <!-- Text input-->
            <div class="form-group">
                <label class="col-md-12 control-label" for="textinput">Wartość p-value poniżej której
                    zmienna
                    zostanie wprowadzona do modelu</label>
                <div class="col-md-6">
                    <input id="textinput" value="0.01" class="form-control input-md" required type="number" min="0"
                        max="1" step="0.001" name="treshold_in" required>
                </div>
            </div>
            <div class="form-group">
                <label class="col-md-12 control-label" for="textinput">Wartość p-value powyżej której
                    zmienna
                    zostanie usunięta z modelu </label>
                <div class="col-md-6">
                    <input id="textinput" value="0.05" class="form-control input-md" required type="number" min="0"
                        max="1" step="0.001" name="treshold_out" required>
                </div>
            </div>
            <!-- Text input-->
            <div class="form-group">
                <label class="col-md-12 control-label" for="textinput">Wartość p-value poniżej której
                    zmienna będzie
                    mogła zostać wprowadzona do modelu</label>
                <div class="col-md-6">
                    <input id="textinput" class="form-control input-md" required type="number" min="0" max="1"
                        step="0.001" value="0.05" name="treshold_for_top_selection" required>
                </div>
            </div>
            <!-- Text input-->
            <div class="form-group">
                <label class="col-md-12 control-label" for="textinput">Liczba zmiennych która
                    maksymalnie może
                    znaleść się w modelu (jeśli liczba zmiennych z p-value mniejszym niż podany powyżej
                    będzie
                    mniejsza niż liczba w tym polu, kolejne zmienne nie będą dodawane do modelu</label>
                <div class="col-md-6">
                    <input id="textinput" value="3" class="form-control input-md" required type="text"
                        name="Liczba_zmiennych" required>
                </div>
            </div>
        </div>
    </fieldset>
    <div class="form-group">
        <label class="col-md-12 control-label"></label>
        <div class="col-md-12">
            <button type="submit" class="btn btn-primary">Zakończ konfiguracje</button>
        </div>
    </div>
</form>
{% else %}
{% include "notLogged.html" %}
{% endif %}

{%endblock %}